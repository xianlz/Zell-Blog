<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>连接池 on Zell Blog</title>
        <link>https://zell.zone/tags/%E8%BF%9E%E6%8E%A5%E6%B1%A0/</link>
        <description>Recent content in 连接池 on Zell Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>Zell</copyright>
        <lastBuildDate>Sun, 19 Oct 2025 21:03:14 +0800</lastBuildDate><atom:link href="https://zell.zone/tags/%E8%BF%9E%E6%8E%A5%E6%B1%A0/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>业务开发问题 代码篇(连接池)</title>
        <link>https://zell.zone/p/%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91%E9%97%AE%E9%A2%98-%E4%BB%A3%E7%A0%81%E7%AF%87%E8%BF%9E%E6%8E%A5%E6%B1%A0/</link>
        <pubDate>Sun, 19 Oct 2025 21:03:14 +0800</pubDate>
        
        <guid>https://zell.zone/p/%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91%E9%97%AE%E9%A2%98-%E4%BB%A3%E7%A0%81%E7%AF%87%E8%BF%9E%E6%8E%A5%E6%B1%A0/</guid>
        <description>&lt;p&gt;&lt;strong&gt;连接池&lt;/strong&gt;一般对外提供获得连接、归还连接的接口给客户端使 用，并暴露最小空闲连接数、最大连接数等可配置参数，在内部则实现连接建立、连接心跳 保持、连接管理、空闲连接回收、连接可用性检测等功能。如下图示&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://zell.zone/img/%e8%bf%9e%e6%8e%a5%e6%b1%a0.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;连接池&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;我们先看一下涉及-tcp-连接的客户端-sdk对外提供-api-的三种方式在面对各种三方客-户端的时候只有先识别出其属于哪一种才能理清楚使用方式&#34;&gt;我们先看一下涉及 TCP 连接的客户端 SDK，对外提供 API 的三种方式。在面对各种三方客 户端的时候，只有先识别出其属于哪一种，才能理清楚使用方式。
&lt;/h3&gt;&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;连接池和连接分离的 API：有一个 XXXPool 类负责连接池实现，先从其获得连接 XXXConnection，然后用获得的连接进行服务端请求，完成后使用者需要归还连接。通 常，XXXPool 是线程安全的，可以并发获取和归还连接，而 XXXConnection 是非线程 安全的。对应到连接池的结构示意图中，XXXPool 就是右边连接池那个框，左边的客户 端是我们自己的代码。&lt;/li&gt;
&lt;li&gt;内部带有连接池的 API：对外提供一个 XXXClient 类，通过这个类可以直接进行服务端 请求；这个类内部维护了连接池，SDK 使用者无需考虑连接的获取和归还问题。一般而 言，XXXClient 是线程安全的。对应到连接池的结构示意图中，整个 API 就是蓝色框包 裹的部分。&lt;/li&gt;
&lt;li&gt;非连接池的 API：一般命名为 XXXConnection，以区分其是基于连接池还是单连接的， 而不建议命名为 XXXClient 或直接是 XXX。直接连接方式的 API 基于单一连接，每次使 用都需要创建和断开连接，性能一般，且通常不是线程安全的。对应到连接池的结构示 意图中，这种形式相当于没有右边连接池那个框，客户端直接连接服务端创建连接。&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;接下来，我就以 Java 中用于操作 Redis 最常见的库 Jedis 为例，从源码角度分析下 Jedis 类到底属于哪种类型的 API，直接在多线程环境下复用一个连接会产生什么问题，以及如何 用最佳实践来修复这个问题。&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
